<!DOCTYPE html>
<html lang="fi">
<head>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-N8Z8Z9M6');</script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Walking Golf</title>
    <style>
        body { font-family: sans-serif; background: #072b22; color: white; text-align: center; margin: 0; padding: 10px; }
        #table { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; max-width: 600px; margin: 20px auto; }
        .card { background: white; color: black; border-radius: 5px; padding: 10px 0; font-weight: bold; aspect-ratio: 1/1.4; cursor: pointer; }
        .waste { margin-top: 30px; display: flex; justify-content: center; gap: 20px; align-items: center; }
        .card.suit-red { color: red; }
        button { padding: 10px; background: #1e6b54; color: white; border: none; border-radius: 5px; font-weight: bold; }
    </style>
</head>
<body>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N8Z8Z9M6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <h2>⛳ Golf Solitaire</h2>
    <div id="table"></div>
    <div class="waste">
        <div id="stock" class="card" style="background: #134537; color: white;" onclick="draw()">PAKKA</div>
        <div id="waste" class="card"></div>
    </div>
    <br><button onclick="newGame()">Uusi peli</button>

    <script>
        let deck = [], columns = [[],[],[],[],[],[],[]], waste = null;
        function newGame() {
            deck = [];
            const suits = ['♠', '♣', '♥', '♦'];
            for(let s of suits) for(let r=1; r<=13; r++) deck.push({r, s});
            deck.sort(() => Math.random() - 0.5);
            columns = [[],[],[],[],[],[],[]];
            for(let i=0; i<35; i++) columns[i%7].push(deck.pop());
            waste = deck.pop();
            render();
        }
        function render() {
            const t = document.getElementById("table"); t.innerHTML = "";
            columns.forEach((col, ci) => {
                const div = document.createElement("div");
                if(col.length > 0) {
                    const c = col[col.length-1];
                    div.className = "card" + (c.s === '♥' || c.s === '♦' ? " suit-red" : "");
                    div.innerHTML = (c.r===1?'A':c.r===11?'J':c.r===12?'Q':c.r===13?'K':c.r)+c.s;
                    div.onclick = () => play(ci);
                } else { div.style.visibility = "hidden"; }
                t.appendChild(div);
            });
            const w = document.getElementById("waste");
            w.className = "card" + (waste.s === '♥' || waste.s === '♦' ? " suit-red" : "");
            w.innerHTML = (waste.r===1?'A':waste.r===11?'J':waste.r===12?'Q':waste.r===13?'K':waste.r)+waste.s;
            document.getElementById("stock").innerText = "PAKKA ("+deck.length+")";
        }
        function play(ci) {
            const c = columns[ci][columns[ci].length-1];
            if(Math.abs(c.r - waste.r) === 1 || (waste.r===13 && c.r===1) || (waste.r===1 && c.r===13)) {
                waste = columns[ci].pop(); render();
            }
        }
        function draw() { if(deck.length) { waste = deck.pop(); render(); } }
        newGame();
    </script>
</body>
</html>
 
